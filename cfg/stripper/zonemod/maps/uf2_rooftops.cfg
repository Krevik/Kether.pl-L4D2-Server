; Urban Flight 2

; TODO:
; - Pill Spawns? (Possibly remove all pill spawns and add our own obvious ones)
; --- Remove zombies which blocks door from opening
filter:
{
	"hammerid" "1168069"
}

; Make weapons consistently spawn in back of police car
; Prevent tier 2 from spawning in cabinet
modify:
{
	match:
	{
		"targetname" "weaponset_case"
	}
	delete:
	{
		"OnCase01" "weaponset1Kill0-1"
		"OnCase01" "weaponset2_relayTrigger0-1"
		;"OnCase02" "weaponset2_killTrigger0-1"
	}
}

; --- Upgrade start saferoom weapons
modify:
{
	match:
	{
	"hammerid" "6916877"
	}
	replace:
	{
	"weapon_selection" "weapon_smg_silenced"
	}
}
modify:
{
	match:
	{
	"hammerid" "6916879"
	}
	replace:
	{
	"weapon_selection" "weapon_shotgun_chrome"
	}
}

; Remove static tank spawn
modify:
{
	match:
	{
		"targetname" "tankroom_case"
	}
	delete:
	{
		"OnCase02" "tankroom_templateForceSpawn0-1"
		;"OnCase01" "tankroom_templateKill0-1"
		;"OnCase01" "directorBeginScriptuf2_no_witches1-1"
		;"OnCase01" "tankroom_wallKill0-1"
		;"OnCase01" "directorEndScript0-1"
		"OnCase02" "directorBeginScriptuf2_no_tanks1-1"
		"OnCase02" "directorEndScript0-1"
		"OnCase02" "tankroom_branchSetValue10-1"
	}
}

; Enable both ammo piles at radio tower event
modify:
{
	match:
	{
		"targetname" "crescendo_weaponset_case"
	}
	delete:
	{
		"OnCase02" "template_weapon_set_bForceSpawn0-1"
	}
	insert:
	{
		"OnCase01" "template_weapon_set_bForceSpawn0-1"
	}
}

; Prevent lights by beginning safe room from randomly
; burning out
filter:
{
	"targetname" "basementlights_case"
}

; --- Remove end saferoom items
filter:
{
	"hammerid" "7424548"
}

; --- Block death charges at 53%
add:
{
	"classname" "prop_dynamic"
	"origin" "-3131.1 1290 754.386"
	"angles" "0 90 45"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_downtown/railing01_128.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-3041.34 1290 664.86"
	"angles" "0 90 45"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_downtown/railing01_128.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-2302.99 1277.04 513"
	"angles" "0 90 0"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_urban/fence_cover001_256.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-2558.62 1277.04 513"
	"angles" "0 90 0"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_urban/fence_cover001_256.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-2814.21 1277.04 513"
	"angles" "0 90 0"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_urban/fence_cover001_256.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-3069.79 1277.04 513"
	"angles" "0 90 0"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_urban/fence_cover001_256.mdl"
}
{
	"classname" "prop_dynamic"
	"origin" "-3324.76 1277.04 513"
	"angles" "0 90 0"
	"solid" "6"
	"rendercolor" "255 255 255"
	"model" "models/props_urban/fence_cover001_256.mdl"
}

; --- block pull offs on fallen tower
add:
{
	; invisible block
	"origin" "-512 3100 916"
	"mins" "-416 -1 -112"
	"maxs" "416 1 112"
	"initialstate" "1"
	"BlockType" "0"
	"classname" "env_physics_blocker"
}
{
	; invisible block
	"origin" "-512 3170 916"
	"mins" "-416 -1 -112"
	"maxs" "416 1 112"
	"initialstate" "1"
	"BlockType" "0"
	"classname" "env_physics_blocker"
}
